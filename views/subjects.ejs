<!DOCTYPE html>
<html>
  <%- include partial/head.ejs %>
  <body>
    <%- include partial/h1.ejs %>
    <%- include partial/menu.ejs %>
    <hr>
    <h2>Data Subjects</h2>
    <table border="1">
      <tr>
          <th>Id</th>
          <th>Subject Name</th>
          <th>Teacher's Name</th>
          <th>Action</th>
        </tr>
        <% data_subjects.forEach(row => { %>
        <tr>
          <td><%=row.id%></td>
          <td><%=row.subject_name%></td>
          <td>
            <% if(row.Teachers.length > 0) { %>
                <% row.Teachers.forEach((teacher, index) => { %>
                    <%= (index+1) + '. '+ teacher.first_name + ' ' + teacher.last_name%>
                    <br><br>
                <% }) %>
            <% } else {%>
              -
            <% } %>
          </td>
          <td>
            <a href="/subjects/<%=row.id%>/enrolledstudents">Enroled Student</a>
          </td>
          <!-- <td>
            <a href="/subjects/edit/<%=row.id%>">EDIT</a> |
            <a href="/subjects/delete/<%=row.id%>" onclick="return confirm(' delete this subject?')" >DELETE</a>
          </td> -->
        </tr>
        <% }) %>
  
      </table>
      <br>
    <br>
    <%- include partial/home.ejs %>
  </body>
</html>
